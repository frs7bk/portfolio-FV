# ملاحظات هامة حول إعداد المشروع على Render

## إعداد دور المستخدم المسؤول

بعد نشر المشروع على Render وإنشاء قاعدة البيانات، يجب التأكد من أن المستخدم المسؤول (admin) لديه الدور الصحيح في قاعدة البيانات. 

### الطريقة 1: عند إنشاء مستخدم جديد

عند إنشاء مستخدم جديد، تأكد من تعيين دوره كـ "admin" في قاعدة البيانات. يمكنك استخدام الاستعلام التالي في أداة إدارة قاعدة البيانات:

```sql
UPDATE "user" SET "role" = 'admin' WHERE "username" = 'اسم_المستخدم_الخاص_بك';
```

### الطريقة 2: استخدام رابط الإنشاء التلقائي

قم بزيارة الرابط التالي على الموقع المنشور على Render لإنشاء مستخدم مسؤول تلقائيًا:

```
https://your-app-name.onrender.com/create_admin?username=admin&email=admin@example.com&password=كلمة_مرور_آمنة
```

حيث:
- `your-app-name` هو اسم تطبيقك على Render
- `username` هو اسم المستخدم المطلوب (يفضل "admin")
- `email` هو البريد الإلكتروني للمسؤول
- `password` هي كلمة مرور آمنة يجب تغييرها لاحقًا

## الوصول إلى أقسام المدير والإحصائيات

للتأكد من قدرتك على الوصول إلى لوحة الإحصائيات والأقسام الخاصة بالمدير، يجب أن يكون حقل `role` للمستخدم مضبوطًا على `admin` في قاعدة البيانات.

إذا واجهت مشكلة في الوصول إلى هذه الأقسام، يمكنك التحقق من ذلك باستخدام الاستعلام التالي:

```sql
SELECT id, username, email, role FROM "user";
```

وتأكد من أن قيمة `role` هي `admin` وليست `visitor`.

## متغيرات البيئة الهامة

تأكد من إعداد متغيرات البيئة التالية في إعدادات خدمة Render:

1. `DATABASE_URL`: رابط اتصال قاعدة البيانات PostgreSQL
2. `FLASK_SECRET_KEY`: مفتاح سري للتطبيق (يمكن إنشاؤه عشوائيًا)
3. `SESSION_SECRET`: مفتاح سري للجلسات (يمكن إنشاؤه عشوائيًا)

لإنشاء مفاتيح سرية عشوائية، يمكنك استخدام الأمر التالي في Python:

```python
import secrets
print(secrets.token_hex(32))
```

## روابط مفيدة في التطبيق المنشور

- واجهة تسجيل الدخول: `/admin/login`
- لوحة التحكم الرئيسية: `/admin/dashboard`
- إدارة معرض الأعمال: `/admin/portfolio`
- لوحة الإحصائيات: `/analytics/dashboard`
- إعدادات الملف الشخصي: `/admin/profile`